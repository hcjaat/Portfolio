document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("theme-switch"),t=document.querySelector("header"),n=document.querySelector(".hamburger"),o=document.querySelector(".nav-links"),a=document.querySelectorAll(".nav-links a"),c=document.getElementById("current-year"),r=document.querySelector("form");function s(){const n=window.scrollY;t.classList.toggle("scrolled",n>50),function(){const e=[];a.forEach(e=>{const t=document.querySelector(e.getAttribute("href"));t&&e.classList.remove("active")});const t=[];a.forEach(n=>{const o=document.querySelector(n.getAttribute("href"));if(o){const a=o.offsetTop-100,c=o.offsetTop+o.offsetHeight-100,r=window.scrollY;r>=a&&r<c&&!n.classList.contains("active")&&(e.forEach(e=>{e.classList.remove("active")}),n.classList.add("active"),e.push(n))}});0===e.length&&window.scrollY<300&&a[0].classList.add("active")}()}function i(){o.classList.toggle("active"),n.classList.toggle("active")}function l(e,t,n){const o=document.createElement("div");o.classList.add("form-message"),o.classList.add(n?"success":"error"),o.textContent=t,e.appendChild(o),setTimeout(()=>{o.classList.add("fade-out"),setTimeout(()=>{o.remove()},300)},5e3)}localStorage.getItem("theme")?("dark"===localStorage.getItem("theme")&&(document.body.classList.add("dark-theme"),e.checked=!0),e&&e.addEventListener("change",function(){document.body.classList.toggle("dark-theme"),localStorage.setItem("theme",document.body.classList.contains("dark-theme")?"dark":"light")})):e&&e.addEventListener("change",function(){document.body.classList.toggle("dark-theme"),localStorage.setItem("theme",document.body.classList.contains("dark-theme")?"dark":"light")}),window.addEventListener("scroll",s),n&&n.addEventListener("click",i),a.forEach(e=>{e.addEventListener("click",function(e){if(this.getAttribute("href").startsWith("#")){e.preventDefault();const t=document.querySelector(this.getAttribute("href"));if(t){const e=t.offsetTop-80;window.scrollTo({top:e,behavior:"smooth"})}o.classList.contains("active")&&i()}})}),r&&r.addEventListener("submit",function(e){e.preventDefault();let t=!0;const n=this.querySelector('input[name="name"]'),o=this.querySelector('input[name="email"]'),a=this.querySelector('textarea[name="message"]');if(n.value.trim()||(t=!1),o.value.trim()||(t=!1),a.value.trim()||(t=!1),t){const e=new FormData(this);fetch(this.action,{method:this.method,body:e,headers:{"Accept":"application/json"}}).then(e=>e.json()).then(e=>{l(r,"Your message has been sent successfully! I'll get back to you soon.",!0),r.reset()}).catch(e=>{l(r,"Oops! There was a problem submitting your form. Please try again.",!1)})}else l(r,"Please fill in all fields before submitting.",!1)}),c&&(c.textContent=(new Date).getFullYear()),function(){const e=document.querySelectorAll(".fade-in");if(e.length){const t=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(e.target.classList.add("visible"),t.unobserve(e.target))})},{threshold:.1});e.forEach(e=>{t.observe(e)})}}()}); 